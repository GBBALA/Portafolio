@use '../base/variables' as *;

$sidebar-width: 40px; 
$header-height: 80px; 

.app-layout {
  // CONFIGURACIÓN DESKTOP (3 COLUMNAS)
  display: grid;
  grid-template-columns: $sidebar-width 1fr $sidebar-width;
  min-height: 100vh;
  width: 100%;
  position: relative;

  // --- ARREGLO MÓVIL (CRÍTICO) ---
  @media (max-width: 900px) {
    // Cambiamos Grid por Flex en columna.
    // Esto ELIMINA la reserva de espacio de los 40px laterales.
    display: flex;
    flex-direction: column;
    
    // Aseguramos que no haya desbordamiento
    width: 100%;
    overflow-x: hidden;
  }
}

// Sidebars
.social-sidebar {
  grid-column: 1 / 2;
  @media (max-width: 900px) { display: none; }
}

.email-sidebar {
  grid-column: 3 / 4;
  @media (max-width: 900px) { display: none; }
}

// Contenido Principal
.main-content {
  grid-column: 2 / 3; 
  width: 100%; 
  max-width: $container-width; 
  margin: 0 auto;
  padding-top: $header-height;
  padding-left: 25px;
  padding-right: 25px;

  // --- ARREGLO MÓVIL ---
  @media (max-width: 900px) {
    // Quitamos los paddings laterales grandes
    padding-left: 15px;
    padding-right: 15px;
    padding-top: 100px; 
    
    // IMPORTANTE: Asegurar que el contenido no fuerce el ancho
    width: 100%;
    max-width: 100%;
    box-sizing: border-box;
  }
}

// Flotantes
.header, .social-sidebar, .email-sidebar {
  position: fixed;
  z-index: 10;
}